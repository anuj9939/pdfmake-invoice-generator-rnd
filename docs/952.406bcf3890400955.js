"use strict";(self.webpackChunklms_web_app=self.webpackChunklms_web_app||[]).push([[952],{5952:(A,f,o)=>{o.r(f),o.d(f,{AuthModule:()=>T});var d=o(6814),g=o(1896),i=o(6223),v=o(7328),y=o(9773),e=o(5879),h=o(8586),b=o(9250),l=o(8394),p=o(3493);const c=[{path:"login",component:(()=>{var t;class r{constructor(n,a,m,u,S,_){this.fb=n,this.authService=a,this.router=m,this.loader=u,this.toastrService=S,this.masterService=_,this.showPassword=!0,this.destroySubscription$=new v.t(1)}ngOnInit(){this.loginForm=this.fb.group({username:new i.NI("",[i.kI.required]),password:new i.NI("",[i.kI.required])})}ngOnDestroy(){this.getNotificationCountLimit().then(n=>{localStorage.setItem("notificationCountLimit",n)}).finally(()=>{this.destroySubscription$.next(null),this.destroySubscription$.complete()})}openForgotPasswordForm(){document.querySelector(".main-container").classList.add("forgot-password-mode")}openLoginForm(){document.querySelector(".main-container").classList.remove("forgot-password-mode")}authenticateUser(){this.loader.showSpinner("Logging \u{1f600}"),this.authService.login(this.loginForm.value).subscribe(n=>{this.loader.hideSpinner(),"200"===n.statusCode?(this.router.navigateByUrl("dashboard"),this.toastrService.show({type:"success",text:"Welcome back "+n.responseList[0].employeeName})):this.toastrService.show({type:"error",text:"Please provide a valid username/email and password."})},n=>{this.toastrService.show({type:"error",text:"Either Internet is not working or some internal server issue"}),this.loader.hideSpinner()})}getNotificationCountLimit(){return new Promise((n,a)=>{this.masterService.requestApiForGeneralMaster({genericRequestEntity:{companyID:this.authService.companyID,createdBy:this.authService.employeeID,mode:"W",entityBusinessID:122}},"configurationservice/getAllEntity").pipe((0,y.R)(this.destroySubscription$)).subscribe(u=>{n("200"===u.statusCode&&u.responseList[0].value||"10")},u=>{n("10")})})}forgotPassword(){console.log("forgotPassword started")}}return(t=r).\u0275fac=function(n){return new(n||t)(e.Y36(i.qu),e.Y36(h.$),e.Y36(g.F0),e.Y36(b.D),e.Y36(l.k),e.Y36(p.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:44,vars:5,consts:[[1,"main-container"],[1,"forms-container"],[1,"signin-signup"],[1,"sign-in-form",3,"formGroup"],[1,"form-header-section"],["src","/assets/icons/icon-58x70.png","height","40px"],[1,"title"],[1,"input-field"],[1,"lms-user-icon"],["type","text","placeholder","Username or email","formControlName","username","required",""],[1,"lms-password-icon"],["placeholder","Password","formControlName","password","required","",3,"type"],[3,"click"],["type","submit","value","Login",1,"auth-btn","solid",3,"ngClass","click"],[1,"sign-up-form"],[1,"lms-email-icon"],["type","email","placeholder","Email"],["type","submit","value","Send",1,"auth-btn"],[1,"panels-container"],[1,"panel","left-panel"],[1,"content"],["id","sign-up-btn",1,"auth-btn","transparent",3,"click"],["src","assets/images/homepage.svg","alt","",1,"image"],[1,"panel","right-panel"],["id","sign-in-btn",1,"auth-btn","transparent",3,"click"],["src","assets/images/forget-password.svg","alt","",1,"image"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"h2",6),e._uU(7,"Sign in"),e.qZA()(),e.TgZ(8,"div",7),e._UZ(9,"i",8)(10,"input",9),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"i",10)(13,"input",11),e.TgZ(14,"i",12),e.NdJ("click",function(){return a.showPassword=!a.showPassword}),e.qZA()(),e.TgZ(15,"input",13),e.NdJ("click",function(){return a.authenticateUser()}),e.qZA()(),e.TgZ(16,"form",14)(17,"div",4),e._UZ(18,"img",5),e.TgZ(19,"h2",6),e._uU(20,"Forgot Password"),e.qZA()(),e.TgZ(21,"div",7),e._UZ(22,"i",15)(23,"input",16),e.qZA(),e._UZ(24,"input",17),e.qZA()()(),e.TgZ(25,"div",18)(26,"div",19)(27,"div",20)(28,"h3"),e._uU(29,"Did you forget your password?"),e.qZA(),e.TgZ(30,"p"),e._uU(31," Don't worry, we got you. Just enter the email address you have used to register with us and we will send you a mail. "),e.qZA(),e.TgZ(32,"button",21),e.NdJ("click",function(){return a.openForgotPasswordForm()}),e._uU(33," Go "),e.qZA()(),e._UZ(34,"img",22),e.qZA(),e.TgZ(35,"div",23)(36,"div",20)(37,"h3"),e._uU(38,"One of us?"),e.qZA(),e.TgZ(39,"p"),e._uU(40," To keep connected with us please login with your personal info. "),e.qZA(),e.TgZ(41,"button",24),e.NdJ("click",function(){return a.openLoginForm()}),e._uU(42," Sign in "),e.qZA()(),e._UZ(43,"img",25),e.qZA()()()),2&n&&(e.xp6(3),e.Q6J("formGroup",a.loginForm),e.xp6(10),e.Q6J("type",a.showPassword?"password":"text"),e.xp6(1),e.Tol(a.showPassword?"lms-visibility-icon":"lms-visibility-off-icon"),e.xp6(1),e.Q6J("ngClass",a.loginForm.valid?null:"disable-action-button"))},dependencies:[d.mk,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.F,i.sg,i.u],styles:['.main-container{position:relative;width:100%;background-color:#fff;min-height:100vh;overflow:hidden}.forms-container{position:absolute;width:100%;height:100%;top:0;left:0}.form-header-section{display:flex;width:224px;flex-direction:row;justify-content:space-evenly;align-items:flex-start}.signin-signup{position:absolute;top:50%;transform:translate(-50%,-50%);left:75%;width:50%;transition:1s .7s ease-in-out;display:grid;grid-template-columns:1fr;z-index:5}.sign-in-form,.sign-up-form{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0rem 3rem;transition:all .2s .7s;overflow:hidden;grid-column:1/2;grid-row:1/2}form.sign-up-form{opacity:0;z-index:1}form.sign-in-form{z-index:2}.title{font-size:2.2rem;color:#444;margin-bottom:10px}.input-field{max-width:380px;width:100%;background-color:#f0f0f0;margin:10px 0;height:55px;border-radius:55px;display:grid;grid-template-columns:15% 85%;padding:0 .4rem;position:relative}.input-field i{margin:17px 0 0 15px}.input-field .lms-visibility-icon,.input-field .lms-visibility-off-icon{position:absolute;right:20px;cursor:pointer;opacity:.6}.input-field input{background:none;outline:none;border:none;line-height:1;font-weight:600;font-size:1.1rem;color:#333}.input-field input::placeholder{color:#aaa;font-weight:500}.social-text{padding:.7rem 0;font-size:1rem}.social-media{display:flex;justify-content:center}.social-icon{height:46px;width:46px;display:flex;justify-content:center;align-items:center;margin:0 .45rem;color:#333;border-radius:50%;border:1px solid #333;text-decoration:none;font-size:1.1rem;transition:.3s}.social-icon:hover{color:#4481eb;border-color:#4481eb}.auth-btn{width:150px;background-color:#5995fd;border:none;outline:none;height:49px;border-radius:49px;color:#fff;text-transform:uppercase;font-weight:600;margin:10px 0;cursor:pointer;transition:.5s}.auth-btn:hover{background-color:#4d84e2}.panels-container{position:absolute;height:100%;width:100%;top:0;left:0;display:grid;grid-template-columns:repeat(2,1fr)}.main-container:before{content:"";position:absolute;height:2000px;width:2000px;top:-10%;right:48%;transform:translateY(-50%);background-image:linear-gradient(-45deg,#4481eb 0%,#04befe 100%);transition:1.8s ease-in-out;border-radius:50%;z-index:6}.image{width:100%;transition:transform 1.1s ease-in-out;transition-delay:.4s}.panel{display:flex;flex-direction:column;align-items:flex-end;justify-content:space-around;text-align:center;z-index:6}.left-panel{pointer-events:all;padding:3rem 17% 2rem 12%}.right-panel{pointer-events:none;padding:3rem 12% 2rem 17%}.panel .content{color:#fff;transition:transform .9s ease-in-out;transition-delay:.6s}.panel h3{font-weight:600;line-height:1;font-size:1.5rem}.panel p{font-size:.95rem;padding:.7rem 0}.auth-btn.transparent{margin:0;background:none;border:2px solid #fff;width:130px;height:41px;font-weight:600;font-size:.8rem}.right-panel .image,.right-panel .content{transform:translate(800px)}.main-container.forgot-password-mode:before{transform:translate(100%,-50%);right:52%}.main-container.forgot-password-mode .left-panel .image,.main-container.forgot-password-mode .left-panel .content{transform:translate(-800px)}.main-container.forgot-password-mode .signin-signup{left:25%}.main-container.forgot-password-mode form.sign-up-form{opacity:1;z-index:2}.main-container.forgot-password-mode form.sign-in-form{opacity:0;z-index:1}.main-container.forgot-password-mode .right-panel .image,.main-container.forgot-password-mode .right-panel .content{transform:translate(0)}.main-container.forgot-password-mode .left-panel{pointer-events:none}.main-container.forgot-password-mode .right-panel{pointer-events:all}@media (max-width: 870px){.main-container{min-height:800px;height:100vh}.signin-signup{width:100%;top:75%;transform:translate(-50%,-100%);transition:1s .8s ease-in-out}.signin-signup,.main-container.forgot-password-mode .signin-signup{left:50%}.panels-container{grid-template-columns:1fr;grid-template-rows:1fr 2fr 1fr}.panel{flex-direction:row;justify-content:space-around;align-items:center;padding:2.5rem 8%;grid-column:1/2}.right-panel{grid-row:3/4}.left-panel{grid-row:1/2}.image{width:200px;transition:transform .9s ease-in-out;transition-delay:.6s}.panel .content{padding-right:15%;transition:transform .9s ease-in-out;transition-delay:.8s}.panel h3{font-size:1.2rem}.panel p{font-size:.7rem;padding:.5rem 0}.auth-btn.transparent{width:110px;height:35px;font-size:.7rem}.main-container:before{width:1500px;height:1500px;transform:translate(-50%);left:30%;bottom:68%;right:initial;top:initial;transition:2s ease-in-out}.main-container.forgot-password-mode:before{transform:translate(-50%,100%);bottom:32%;right:initial}.main-container.forgot-password-mode .left-panel .image,.main-container.forgot-password-mode .left-panel .content{transform:translateY(-300px)}.main-container.forgot-password-mode .right-panel .image,.main-container.forgot-password-mode .right-panel .content{transform:translateY(0)}.right-panel .image,.right-panel .content{transform:translateY(300px)}.main-container.forgot-password-mode .signin-signup{top:5%;transform:translate(-50%)}}@media (max-width: 570px){form{padding:0 1.5rem}.image{display:none}.panel .content{padding:.5rem 1rem}.main-container{padding:1.5rem}.main-container:before{bottom:72%;left:50%}.main-container.forgot-password-mode:before{bottom:28%;left:50%}}.disable-action-button{pointer-events:none;opacity:.4}\n'],encapsulation:2}),r})()},{path:"register",component:(()=>{var t;class r{constructor(){}ngOnInit(){}}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:2,vars:0,template:function(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"register works!"),e.qZA())}}),r})()},{path:"change-password",component:(()=>{var t;class r{constructor(){}ngOnInit(){}}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-change-password"]],decls:2,vars:0,template:function(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"change-password works!"),e.qZA())}}),r})()},{path:"reset-password",component:(()=>{var t;class r{constructor(){}ngOnInit(){}}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password"]],decls:2,vars:0,template:function(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"reset-password works!"),e.qZA())}}),r})()},{path:"**",pathMatch:"full",redirectTo:"login"}];let P=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(c),g.Bz]}),r})(),T=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,P,i.u5,i.UX]}),r})()},3493:(A,f,o)=>{o.d(f,{c:()=>y});var d=o(5879),g=o(9862),i=o(1786),v=o(9250);let y=(()=>{var e;class h{constructor(l,p,w){this.http=l,this.env=p,this.loader=w}requestApiForGeneralMaster(l,p){return this.http.post(this.env.apiUrl+p,l)}requestApiForNotificationManagement(l,p){return this.http.post(this.env.notificationApiURL+p,l)}requestActionRestAPI(l,p,w,C){return new Promise((Z,x)=>{this.loader.showSpinner(C+l.entityBusinessName),this.requestApiForGeneralMaster(p,w).subscribe(c=>{this.loader.hideSpinner(),"200"===c.statusCode?Z(c.responseList[0]):x(c.errorMessage)},c=>{this.loader.hideSpinner(),x("Either Internet is not working or some internal server issue")})})}}return(e=h).\u0275fac=function(l){return new(l||e)(d.LFG(g.eN),d.LFG(i.D),d.LFG(v.D))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),h})()}}]);